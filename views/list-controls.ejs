<div class="list-controls">
  <div>
    <form action="/item" method="get">
      <label for="numberSelect">Results per page:</label>
      <select id="numberSelect" name="limit" onchange="window.location.href='<%= buildUrl('REPLACE_ME', 'limit') %>'.replace('REPLACE_ME', this.value)">
        <% for(let i = 10; i <= 18; i += 2) { %>
          <option value="<%= i %>" <% if (i===limit) { %>selected<% } %>><%= i %>
          </option>
          <%} %>
      </select>
    </form>
  </div>
  <div>
    <%
    const startPage = Math.max(1, (totalPages === page) ? totalPages - 2 : page - 1);
    const endPage = Math.min(totalPages, (startPage === 1) ? 3 : page + 1);
    %>
    <% if(totalPages > 1) { %>
      <a <% if (page !== 1 ) { %>href="<%= buildUrl(page - 1, 'page') %>"<% } %>><</a>
        <% for(let p = startPage; p <= endPage; p++) { %>
          <% if(p === page) { %>
            <span style="border-radius: 10px; padding: 3px 5px; background-color: var(--link-background);"><%= p %></span>
          <% } else { %>
              <a href="<%= buildUrl(p, 'page')%>"><%= p %></a>
          <% } %>
        <% }%>
      <a <% if (page !== totalPages ) { %>href="<%= buildUrl(page + 1, 'page') %>"<% } %> >></a>
    <% } %>
  </div>
</div>